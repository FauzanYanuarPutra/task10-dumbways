<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="./assets/css/index.css">
  <link rel="stylesheet" href="./assets/css/project.css">
  <style>
    .about {
      display: -webkit-box;
      overflow: hidden;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      text-overflow: ellipsis;
    }
  </style>
</head>
<body>
  <nav>
    <div>
      <div>
          <img src="./assets/images/logo.png" alt="" style="width: 45px; margin-right: 10px;">
      </div>
      <div>
        <ul>
          <li>
            <a href="index.html">Home</a>
          </li>
          <li>
            <a href="project.html"  class="active">My Project</a>
          </li>
        </ul>
      </div>
    </div>
    <div>
      <ul>
        <li>
          <a href="contact.html" class="contact">Contact</a>
        </li>
      </ul>
    </div>
  </nav>
  <div class="content-project" style="margin: 50px auto;">
    <h1 style="margin: 20px 0px;">MY PROJECT</h1>
    <div style="display: flex; justify-content:end ; margin:20px 0px">
      <button onclick="showAdd()" style="background-color: orangered; color: white; padding: 10px 30px; border-radius:10px; font-weight: 600">
        ADD PROJECT
      </button>
    </div>
    <div id="content-card-project">
      <a href="projectDetail.html" class="card-project">
        <div>
          <img src="https://source.unsplash.com/random/500x500?programmer" alt="" style="width: 100%;">
        </div>
        <div>
          <p class="judul">Dumbways Mobile App - 2021</p>
          <p>durasi : 3 bulan</p>
          <p class="about">App that used for dumbways student, it was deployed and can downloaded on playstore Happy download Lorem ipsum dolor sit amet consectetur adipisicing elit. Debitis ipsam architecto aliquid atque possimus, recusandae fugit excepturi odit! Dignissimos amet quae, beatae facilis eius repudiandae officiis distinctio vel adipisci nam neque est laudantium ducimus excepturi quod fuga aliquid eaque, atque et exercitationem ea magnam ab soluta tempore. Dicta voluptatem fugiat aut vitae autem fugit optio natus molestiae, alias, itaque beatae debitis, deleniti odit hic animi nesciunt similique tempora suscipit. Iure, ipsum temporibus deserunt minus, a doloribus quos veniam quis exercitationem nulla sequi ducimus quisquam quod blanditiis illo magnam? Consequatur totam asperiores saepe? Earum laborum saepe placeat consequuntur a optio porro animi! Reprehenderit omnis est atque molestias voluptatibus veritatis, repellendus modi quisquam. Deleniti quis quos dignissimos veritatis voluptates, autem in deserunt laboriosam rem numquam dolorum necessitatibus officiis distinctio neque placeat alias impedit nobis recusandae nostrum id tempora ipsam. Maxime nobis optio odio possimus deserunt, molestiae ut laborum, et dolor quas ullam reprehenderit sapiente blanditiis consectetur ea tempore officiis, vel voluptate eligendi velit placeat. Quasi tempora aliquid necessitatibus similique consequatur culpa sunt minima corrupti optio quo. Nemo ullam distinctio, accusantium odit vero fugit animi voluptate obcaecati adipisci sunt excepturi ipsum doloribus natus tempora explicabo. Exercitationem minus molestiae iusto beatae facere cum nihil.</p>
          <div class="icon-project">
            <div>
              <img src="./assets/svg/playstore.svg" alt="SVG Image" style="width: 20px; height: 20px;">
            </div>
            <div>
              <img src="./assets/svg/android.svg" alt="SVG Image" style="width: 20px; height: 20px;">
            </div>
            <div>
              <img src="./assets/svg/java.svg" alt="SVG Image" style="width: 20px; height: 20px;">
            </div>
          </div>
          <div class="button-project">
            <div>Edit</div>
            <div>Delete</div>
          </div>
        </div>
      </a>
      <a href="projectDetail.html" class="card-project">
        <div>
          <img src="https://source.unsplash.com/random/700x700?programmer" alt="" style="width: 100%;">
        </div>
        <div>
          <p class="judul">Dumbways Mobile App - 2021</p>
          <p>durasi : 3 bulan</p>
          <p class="about">App that used for dumbways student, it was deployed and can downloaded on playstore Happy download</p>
          <div class="icon-project">
            <div>
              <img src="./assets/svg/playstore.svg" alt="SVG Image" style="width: 20px; height: 20px;">
            </div>
            <div>
              <img src="./assets/svg/android.svg" alt="SVG Image" style="width: 20px; height: 20px;">
            </div>
            <div>
              <img src="./assets/svg/java.svg" alt="SVG Image" style="width: 20px; height: 20px;">
            </div>
          </div>
          <div class="button-project">
            <div>Edit</div>
            <div>Delete</div>
          </div>
        </div>
      </a>
      <a href="projectDetail.html" class="card-project">
        <div>
          <img src="https://source.unsplash.com/random/400x400?programmer" alt="" style="width: 100%;">
        </div>
        <div>
          <p class="judul">Dumbways Mobile App - 2021</p>
          <p>durasi : 3 bulan</p>
          <p class="about">App that used for dumbways student, it was deployed and can downloaded on playstore Happy download</p>
          <div class="icon-project">
            <div>
              <img src="./assets/svg/playstore.svg" alt="SVG Image" style="width: 20px; height: 20px;">
            </div>
            <div>
              <img src="./assets/svg/android.svg" alt="SVG Image" style="width: 20px; height: 20px;">
            </div>
            <div>
              <img src="./assets/svg/java.svg" alt="SVG Image" style="width: 20px; height: 20px;">
            </div>
          </div>
          <div class="button-project">
            <div>Edit</div>
            <div>Delete</div>
          </div>
        </div>
      </a>
    </div>
  </div>

  <div onclick="showAdd()" class="background-close hidden"></div>
  <form onsubmit="addBlog(event)" id="form-project" class="hidden" style="position: block; overflow: auto;">
      <div style="position: absolute; top:0; right: 0; margin:10px;  justify-content: end;">
        <div onclick="showAdd()" style=" padding:5px; border-radius:100%; cursor: pointer">
          <img src="./assets/svg/close.svg" alt="" style="width: 30px;">
        </div>
      </div>
      <h1>ADD MY PROJECT</h1>
      <div class="input-form">
        <label for="project-name" class="judul">Project Name</label>
        <input type="text" id="project-name">
      </div>
      <div class="date-project input-form">
        <div>
          <label for="start-date"  class="judul">Start Date</label>
          <input type="date" id="start-date">
        </div>
        <div>
          <label for="end-date" class="judul">End Date</label>
          <input type="date" id="end-date">
        </div>
      </div>
      <div class="input-form">
        <label for="description" class="judul">Description</label>
        <textarea type="text" id="description"></textarea>
      </div>
      <div class="input-form">
        <label for="checkbox" class="judul">Techbologies</label>
        <div class="tech-check">
          <div class="checkbox">
            <input type="checkbox" id="node-js" >
            <label for="node-js" >Node Js</label>
          </div>
          <div class="checkbox">
            <input type="checkbox" id="react-js">
            <label for="react-js" >React Js</label>
          </div>
          <div class="checkbox">
            <input type="checkbox" id="next-js">
            <label for="next-js" >Next Js</label>
          </div>
          <div class="checkbox">
            <input type="checkbox" id="typescript">
            <label for="typescript" >Typescript</label>
          </div>
        </div>
      </div>
      <div class="input-form" >
        <label for="" class="judul" >Pilih Gambar </label>
        <div style="display:flex; margin-top:5px; position:relative;" class="custom-file" >
          <label class="custom-file-input">
            Choose File
            <input type="file" id="image">
          </label>
          <input type="text" name="" id="">
          <div style="position: absolute; right:0;bottom:0; top:0; height:100%; margin-top:0; padding: 0px 10px; display:flex; justify-content:center; align-items:center; ">
              <img src="./assets/svg/link.svg" alt="" style="width: 20px; cursor: pointer">
          </div>
        </div>
      </div>
      <div style="display: flex; justify-content:end">
        <button type="submit">Submit</button>
      </div>
  </form>

  <script>
    const DataProject = []

    function iconCard(technologies) {
      const icons = {
        "Node Js": "./assets/svg/node-js.svg",
        "React Js": "./assets/svg/react.svg",
        "Typescript": "./assets/svg/typescript.svg",
        "Next Js": "./assets/svg/next-js.svg"
      };

      return technologies.map(tech => `<img src="${icons[tech]}" alt="${tech}" style="width: 20px; height: 20px;">`).join('');
    }
    

    function renderProjects() {
      const contentContainer = document.getElementById("content-card-project");
      contentContainer.innerHTML = ""; 

      DataProject.forEach(project => {
        const projectHTML = `
          <a href="projectDetail.html" class="card-project">
            <div>
              <img src="${project.image}" alt="" style="width: 100%;">
            </div>
            <div>
              <p class="judul">${project.name}</p>
              <p>durasi : ${project.durasi} bulan</p>
              <p class="about">${project.description}</p>
              <div class="icon-project">
                ${iconCard(project.technologies)}
              </div>
              <div class="button-project">
                <div>Edit</div>
                <div>Delete</div>
              </div>
            </div>
          </a>
        `;


        contentContainer.innerHTML += projectHTML;
      });
    }
    function addBlog(event){
      event.preventDefault();
      console.log("Hallo")

      const projectName = document.getElementById("project-name").value;
      const startDate = document.getElementById("start-date").value;
      const endDate = document.getElementById("end-date").value;
      const description = document.getElementById("description").value;

      const technologies = Array.from(document.querySelectorAll(".tech-check input[type='checkbox']:checked"))
                                .map(checkbox => checkbox.nextElementSibling.textContent);

      const imageInput = document.querySelector("#image");
      const selectedImage = imageInput.files[0];
      const imageUrl = selectedImage ? URL.createObjectURL(selectedImage) : null;
      

      const durasi = calculateMonthDifference(startDate, endDate)

      const newProject = {
        name: projectName,
        startDate: startDate,
        endDate: endDate,
        description: description,
        technologies: technologies,
        image: imageUrl,
        durasi: durasi
      };

      console.log("New Project:", newProject);
      DataProject.push(newProject)
      console.log(DataProject)
      renderProjects();
    }

    function calculateMonthDifference(startDate, endDate) {
      var start = new Date(startDate);
      var end = new Date(endDate);

      var yearDiff = end.getFullYear() - start.getFullYear();
      var monthDiff = end.getMonth() - start.getMonth();

      return yearDiff * 12 + monthDiff;
    }

  </script>
  <script src="./assets/js/script.js"></script>
</body>
</html>

